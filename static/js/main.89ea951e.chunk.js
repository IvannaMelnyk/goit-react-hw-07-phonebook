(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__302rP",label:"ContactForm_label__1LxDy",input:"ContactForm_input__3apwW",button:"ContactForm_button__2Rf-F"}},14:function(t,e,n){t.exports={list:"ContactList_list__19ThV",listItem:"ContactList_listItem__Gm5lr",listItemText:"ContactList_listItemText__13MY-",button:"ContactList_button__W-NcQ"}},20:function(t,e,n){t.exports={container:"App_container__16XKH",container_header:"App_container_header__4PD98",contacts_header:"App_contacts_header__13Qtv"}},26:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__fpfdx",filterInput:"Filter_filterInput__1JzJZ"}},43:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(18),o=n.n(r),s=(n(43),n(10)),u=n(23),i=n.n(u),l=n(11),b=n.n(l),f=n(9),j=n(2),d=n.n(j),m=n(8),p=n(16),h=n.n(p),O=n(4),_=Object(O.b)("contacts/fetchContactsRequest"),x=Object(O.b)("contacts/fetchContactsSuccess"),v=Object(O.b)("contacts/fetchContactsError"),C=Object(O.b)("contacts/addContactRequest"),N=Object(O.b)("contacts/addContactSuccess"),y=Object(O.b)("contacts/addContactError"),g=Object(O.b)("contacts/deleteContactRequest"),k=Object(O.b)("contacts/deleteContactSuccess"),w=Object(O.b)("contacts/deleteContactError"),F=Object(O.b)("contacts/changeFilter");h.a.defaults.baseURL="http://localhost:3050";var I={fetchContacts:function(){return function(){var t=Object(m.a)(d.a.mark((function t(e){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(_()),t.prev=1,t.next=4,h.a.get("/contacts");case 4:n=t.sent,a=n.data,e(x(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(v(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(){var n=Object(m.a)(d.a.mark((function n(a){var c,r,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},a(C()),n.prev=2,n.next=5,h.a.post("/contacts",c);case 5:r=n.sent,o=r.data,a(N(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(y(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(m.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g()),e.prev=1,e.next=4,h.a.delete("/contacts/".concat(t));case 4:n(k(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(w(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},L=n(19),S=function(t){return t.contacts.items},T=function(t){return t.contacts.filter},E=Object(L.a)([S,T],(function(t,e){return function(t){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}(t)})),A=n(38),P=n(1);function R(){var t=Object(a.useState)(""),e=Object(s.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1],j=i.a.generate(),d=i.a.generate(),m=Object(A.a)(),p=m.register,h=m.handleSubmit,O=Object(f.b)(),_=Object(f.c)(S),x=function(t){var e=t.currentTarget,n=e.name,a=e.value;switch(n){case"name":c(a);break;case"number":l(a);break;default:return}},v=function(){c(""),l("")};return Object(P.jsxs)("form",{className:b.a.form,onSubmit:h((function(t){if(console.log(t.name),""!==t.name)if(""!==t.number){if(_.find((function(e){return e.name===t.name})))return alert("".concat(t.name," is already in contacts.")),void v();O(I.addContact(t.name,t.number)),v()}else alert("Please enter phone number");else alert("Please enter all data")})),children:[Object(P.jsxs)("label",{className:b.a.label,htmlFor:j,children:["Name",Object(P.jsx)("input",{className:b.a.input,type:"text",name:"name",placeholder:"\u0421ontact name",value:n,onChange:x,id:j,ref:p})]}),Object(P.jsxs)("label",{className:b.a.label,htmlFor:d,children:["Number",Object(P.jsx)("input",{className:b.a.input,type:"text",name:"number",placeholder:"\u0421ontact number",value:u,onChange:x,id:d,ref:p})]}),Object(P.jsx)("button",{className:b.a.button,type:"submit",children:"Add contact"})]})}var J=n(14),q=n.n(J);function D(){var t=Object(f.b)(),e=Object(f.c)(E);Object(a.useEffect)((function(){t(I.fetchContacts())}),[]);return Object(P.jsx)("ul",{className:q.a.list,children:e.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(P.jsxs)("li",{className:q.a.listItem,children:[Object(P.jsxs)("span",{className:q.a.listItemText,children:[a,":"]}),Object(P.jsx)("span",{className:q.a.listItemText,children:c}),Object(P.jsx)("button",{className:q.a.button,type:"button",onClick:function(){return function(e){return t(I.deleteContact(e))}(n)},children:"Delete"})]},n)}))})}var z=n(26),M=n.n(z),Q=function(){var t=Object(f.c)(T),e=Object(f.b)();return Object(P.jsxs)("label",{className:M.a.filterLabel,children:["Find contacts by name",Object(P.jsx)("input",{className:M.a.filterInput,type:"text",value:t,placeholder:"Enter name for Search",onChange:function(t){return e(F(t.target.value))}})]})},W=n(20),B=n.n(W);function G(){return Object(P.jsxs)("div",{className:B.a.container,children:[Object(P.jsx)("h1",{className:B.a.container_header,children:"Phonebook"}),Object(P.jsx)(R,{}),Object(P.jsx)("h2",{className:B.a.contacts_header,children:"Contacts"}),Object(P.jsx)(Q,{}),Object(P.jsx)(D,{})]})}var H,K=n(3),U=n(12),V=n(37),X=n.n(V),Y=n(6),Z=n(5),$=Object(O.c)([],(H={},Object(Y.a)(H,x,(function(t,e){return e.payload})),Object(Y.a)(H,N,(function(t,e){var n=e.payload;return[].concat(Object(K.a)(t),[n])})),Object(Y.a)(H,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),H)),tt=Object(O.c)("",Object(Y.a)({},F,(function(t,e){return e.payload}))),et=Object(Z.c)({items:$,filter:tt}),nt=[].concat(Object(K.a)(Object(O.d)({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})),[X.a]),at=Object(O.a)({reducer:{contacts:et},middleware:nt,devTools:!1});o.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(f.a,{store:at,children:Object(P.jsx)(G,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.89ea951e.chunk.js.map